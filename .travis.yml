language: php

sudo: false

php:
  - 5.3
  - 5.4
  - 5.5
  - 5.6
  - 7
  - hhvm

matrix:
  allow_failures:
    - php: 5.3
      env: DRUSH_VERSION=8.*@dev
    - php: 5.3
      env: DRUSH_VERSION=dev-master
    - php: 7
    - php: hhvm

env:
  - DRUSH_VERSION=6.*
  - DRUSH_VERSION=7.*
  - DRUSH_VERSION=8.*@dev
  - DRUSH_VERSION=dev-master

before_script:
  - composer self-update || true
  - composer --prefer-source install
  - composer require drush/drush:$DRUSH_VERSION

script: ./vendor/atoum/atoum/bin/atoum -d lib/Cerbere/Tests/Units/ -ncc
