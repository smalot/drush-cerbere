language: php

sudo: false

php:
  - 5.3
  - 5.4
  - 5.5
  - 5.6
  - 7

matrix:
  allow_failures:
    - php: 5.3
      env: DRUSH_VERSION=8.*@dev
    - php: 5.3
      env: DRUSH_VERSION=dev-master
    - php: 7

env:
  - DRUSH_VERSION=6.*
#  - DRUSH_VERSION=7.* # Install unable due to dependencies nos available on Travis
  - DRUSH_VERSION=8.*@dev
#  - DRUSH_VERSION=dev-master # Install unable due to dependencies nos available on Travis

before_script:
  - composer self-update || true
  - composer --prefer-source install
  - composer require drush/drush:$DRUSH_VERSION --ignore-platform-reqs

script: ./vendor/atoum/atoum/bin/atoum -d lib/Cerbere/Tests/Units/ -ncc
